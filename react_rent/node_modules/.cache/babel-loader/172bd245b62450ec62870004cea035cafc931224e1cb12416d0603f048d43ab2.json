{"ast":null,"code":"import { useRef } from 'react';\nvar useLoadingDelayPlugin = function useLoadingDelayPlugin(fetchInstance, _a) {\n  var loadingDelay = _a.loadingDelay;\n  var timerRef = useRef();\n  if (!loadingDelay) {\n    return {};\n  }\n  var cancelTimeout = function cancelTimeout() {\n    if (timerRef.current) {\n      clearTimeout(timerRef.current);\n    }\n  };\n  return {\n    onBefore: function onBefore() {\n      cancelTimeout();\n      timerRef.current = setTimeout(function () {\n        fetchInstance.setState({\n          loading: true\n        });\n      }, loadingDelay);\n      return {\n        loading: false\n      };\n    },\n    onFinally: function onFinally() {\n      cancelTimeout();\n    },\n    onCancel: function onCancel() {\n      cancelTimeout();\n    }\n  };\n};\nexport default useLoadingDelayPlugin;","map":{"version":3,"names":["useRef","useLoadingDelayPlugin","fetchInstance","_a","loadingDelay","timerRef","cancelTimeout","current","clearTimeout","onBefore","setTimeout","setState","loading","onFinally","onCancel"],"sources":["E:/Github/react_rent/react_rent/node_modules/ahooks/es/useRequest/src/plugins/useLoadingDelayPlugin.js"],"sourcesContent":["import { useRef } from 'react';\nvar useLoadingDelayPlugin = function useLoadingDelayPlugin(fetchInstance, _a) {\n  var loadingDelay = _a.loadingDelay;\n  var timerRef = useRef();\n  if (!loadingDelay) {\n    return {};\n  }\n  var cancelTimeout = function cancelTimeout() {\n    if (timerRef.current) {\n      clearTimeout(timerRef.current);\n    }\n  };\n  return {\n    onBefore: function onBefore() {\n      cancelTimeout();\n      timerRef.current = setTimeout(function () {\n        fetchInstance.setState({\n          loading: true\n        });\n      }, loadingDelay);\n      return {\n        loading: false\n      };\n    },\n    onFinally: function onFinally() {\n      cancelTimeout();\n    },\n    onCancel: function onCancel() {\n      cancelTimeout();\n    }\n  };\n};\nexport default useLoadingDelayPlugin;"],"mappings":"AAAA,SAASA,MAAM,QAAQ,OAAO;AAC9B,IAAIC,qBAAqB,GAAG,SAASA,qBAAqB,CAACC,aAAa,EAAEC,EAAE,EAAE;EAC5E,IAAIC,YAAY,GAAGD,EAAE,CAACC,YAAY;EAClC,IAAIC,QAAQ,GAAGL,MAAM,EAAE;EACvB,IAAI,CAACI,YAAY,EAAE;IACjB,OAAO,CAAC,CAAC;EACX;EACA,IAAIE,aAAa,GAAG,SAASA,aAAa,GAAG;IAC3C,IAAID,QAAQ,CAACE,OAAO,EAAE;MACpBC,YAAY,CAACH,QAAQ,CAACE,OAAO,CAAC;IAChC;EACF,CAAC;EACD,OAAO;IACLE,QAAQ,EAAE,SAASA,QAAQ,GAAG;MAC5BH,aAAa,EAAE;MACfD,QAAQ,CAACE,OAAO,GAAGG,UAAU,CAAC,YAAY;QACxCR,aAAa,CAACS,QAAQ,CAAC;UACrBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ,CAAC,EAAER,YAAY,CAAC;MAChB,OAAO;QACLQ,OAAO,EAAE;MACX,CAAC;IACH,CAAC;IACDC,SAAS,EAAE,SAASA,SAAS,GAAG;MAC9BP,aAAa,EAAE;IACjB,CAAC;IACDQ,QAAQ,EAAE,SAASA,QAAQ,GAAG;MAC5BR,aAAa,EAAE;IACjB;EACF,CAAC;AACH,CAAC;AACD,eAAeL,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}