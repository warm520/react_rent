{"ast":null,"code":"import classNames from 'classnames';\nimport React, { useEffect, useMemo } from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport { getTreeDeep } from '../../utils/tree';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Checkbox from '../checkbox';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { devWarning } from '../../utils/dev-log';\nconst classPrefix = `adm-tree-select-multiple`;\nexport const Multiple = p => {\n  const props = mergeProps({\n    options: [],\n    fieldNames: {},\n    allSelectText: [],\n    defaultExpandKeys: [],\n    defaultValue: []\n  }, p);\n  useEffect(() => {\n    devWarning('TreeSelect', 'TreeSelect.Multiple has been deprecated.');\n  }, []);\n  const labelName = props.fieldNames.label || 'label';\n  const valueName = props.fieldNames.value || 'value';\n  const childrenName = props.fieldNames.children || 'children';\n  // 打开的 keys\n  const [expandKeys, setExpandKeys] = usePropsValue({\n    value: props.expandKeys,\n    defaultValue: props.defaultExpandKeys\n  });\n  // 选中的 value（聚合后）\n  const [value, setValue] = usePropsValue({\n    value: props.value,\n    defaultValue: props.defaultValue\n  });\n  // 获取目标所有叶子节点 key 集合\n  const getLeafKeys = option => {\n    const keys = [];\n    const walker = op => {\n      var _a;\n      if (!op) {\n        return;\n      }\n      if ((_a = op[childrenName]) === null || _a === void 0 ? void 0 : _a.length) {\n        op[childrenName].forEach(i => walker(i));\n      } else {\n        keys.push(op[valueName]);\n      }\n    };\n    walker(option);\n    return keys;\n  };\n  const [deep, optionsMap, optionsParentMap] = useMemo(() => {\n    const deep = getTreeDeep(props.options, childrenName);\n    const optionsMap = new Map();\n    const optionsParentMap = new Map();\n    function traverse(current, children) {\n      children.forEach(item => {\n        optionsParentMap.set(item[valueName], current);\n        optionsMap.set(item[valueName], item);\n        if (item[childrenName]) {\n          traverse(item, item[childrenName]);\n        }\n      });\n    }\n    traverse(undefined, props.options);\n    return [deep, optionsMap, optionsParentMap];\n  }, [props.options]);\n  // 将聚合的 value 拆分开，获得叶子节点的 value 集合\n  const allSelectedLeafKeys = useMemo(() => {\n    let leafKeys = [];\n    value.forEach(v => {\n      const option = optionsMap.get(v);\n      leafKeys = leafKeys.concat(getLeafKeys(option));\n    });\n    return leafKeys;\n  }, [value, optionsMap]);\n  // 子级有被选中的节点集合\n  const dotMap = useMemo(() => {\n    const map = new Map();\n    // 遍历 allChildrenValues, 向上递归\n    const walker = key => {\n      const parentOption = optionsParentMap.get(key);\n      if (!parentOption) {\n        return;\n      }\n      map.set(parentOption[valueName], true);\n      walker(parentOption[valueName]);\n    };\n    allSelectedLeafKeys.forEach(key => {\n      map.set(key, true);\n      walker(key);\n    });\n    return map;\n  }, [optionsParentMap, value]);\n  const onChange = targetKeys => {\n    var _a;\n    let groupKeys = [...targetKeys];\n    let unusedKeys = [];\n    const walker = keys => {\n      keys.forEach(key => {\n        var _a;\n        if (unusedKeys.includes(key)) {\n          return;\n        }\n        const parent = optionsParentMap.get(key);\n        if (!parent) {\n          return;\n        }\n        const childrenKeys = ((_a = parent[childrenName]) === null || _a === void 0 ? void 0 : _a.map(i => i[valueName])) || [];\n        if (childrenKeys.every(i => groupKeys.includes(i))) {\n          groupKeys.push(parent[valueName]);\n          unusedKeys = unusedKeys.concat(childrenKeys);\n        }\n      });\n    };\n    // 遍历 deep 次 groupKeys，每次往上聚合一层\n    for (let i = 0; i < deep; i++) {\n      walker(groupKeys);\n    }\n    groupKeys = groupKeys.filter(i => !unusedKeys.includes(i));\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const groupOptions = groupKeys.map(i => optionsMap.get(i));\n    setValue(groupKeys);\n    (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, groupKeys, groupOptions);\n  };\n  const onItemSelect = option => {\n    var _a;\n    const parentNodes = [];\n    let current = option;\n    while (current) {\n      parentNodes.unshift(current);\n      const next = optionsParentMap.get(current[valueName]);\n      current = next;\n    }\n    const keys = parentNodes.map(i => i[valueName]);\n    setExpandKeys(keys);\n    (_a = props.onExpand) === null || _a === void 0 ? void 0 : _a.call(props, keys, parentNodes);\n  };\n  // 渲染全选节点\n  const renderSelectAllItem = (columnOptions, index) => {\n    var _a;\n    const text = (_a = props.selectAllText) === null || _a === void 0 ? void 0 : _a[index];\n    if (!text) {\n      return;\n    }\n    let currentLeafKeys = [];\n    columnOptions.forEach(option => {\n      currentLeafKeys = currentLeafKeys.concat(getLeafKeys(option));\n    });\n    const allSelected = currentLeafKeys.every(i => allSelectedLeafKeys.includes(i));\n    return React.createElement(\"div\", {\n      onClick: () => {\n        if (allSelected) {\n          onChange(allSelectedLeafKeys.filter(i => !currentLeafKeys.includes(i)));\n        } else {\n          onChange(allSelectedLeafKeys.concat(currentLeafKeys));\n        }\n      },\n      className: `${classPrefix}-item`\n    }, text);\n  };\n  // 渲染\n  const renderSelectAllLeafItem = (columnOptions, index) => {\n    var _a;\n    const text = (_a = props.selectAllText) === null || _a === void 0 ? void 0 : _a[index];\n    if (!text) {\n      return;\n    }\n    const currentLeafKeys = columnOptions.map(i => i[valueName]);\n    const allSelected = currentLeafKeys.every(i => allSelectedLeafKeys.includes(i));\n    const halfSelected = allSelected ? false : currentLeafKeys.some(i => allSelectedLeafKeys.includes(i));\n    return React.createElement(\"div\", {\n      onClick: () => {\n        if (allSelected) {\n          onChange(allSelectedLeafKeys.filter(i => !currentLeafKeys.includes(i)));\n        } else {\n          onChange(allSelectedLeafKeys.concat(currentLeafKeys));\n        }\n      },\n      className: classNames(`${classPrefix}-item`, `${classPrefix}-item-leaf`)\n    }, React.createElement(Checkbox, {\n      className: `${classPrefix}-item-checkbox`,\n      checked: allSelected,\n      indeterminate: halfSelected\n    }), text);\n  };\n  // 渲染节点\n  const renderItem = option => {\n    const isExpand = expandKeys.includes(option[valueName]);\n    return React.createElement(\"div\", {\n      key: option[valueName],\n      onClick: () => {\n        if (!isExpand) {\n          onItemSelect(option);\n        }\n      },\n      className: classNames(`${classPrefix}-item`, {\n        [`${classPrefix}-item-expand`]: isExpand\n      })\n    }, option[labelName], !!dotMap.get(option[valueName]) && React.createElement(\"div\", {\n      className: `${classPrefix}-dot`\n    }));\n  };\n  // 渲染叶子节点\n  const renderLeafItem = option => {\n    const isSelected = allSelectedLeafKeys.includes(option[valueName]);\n    return React.createElement(\"div\", {\n      key: option[valueName],\n      onClick: () => {\n        if (isSelected) {\n          onChange(allSelectedLeafKeys.filter(val => val !== option[valueName]));\n        } else {\n          onChange([...allSelectedLeafKeys, option[valueName]]);\n        }\n      },\n      className: classNames(`${classPrefix}-item`, `${classPrefix}-item-leaf`)\n    }, React.createElement(Checkbox, {\n      className: `${classPrefix}-item-checkbox`,\n      checked: isSelected\n    }), option[labelName]);\n  };\n  const renderItems = function () {\n    let columnOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    let index = arguments.length > 1 ? arguments[1] : undefined;\n    if (columnOptions.length === 0) {\n      return;\n    }\n    const isLeaf = deep === index + 1;\n    if (isLeaf) {\n      return React.createElement(React.Fragment, null, renderSelectAllLeafItem(columnOptions, index), columnOptions.map(option => {\n        return renderLeafItem(option);\n      }));\n    }\n    return React.createElement(React.Fragment, null, renderSelectAllItem(columnOptions, index), columnOptions.map(option => {\n      return renderItem(option);\n    }));\n  };\n  const renderColumns = () => {\n    var _a;\n    const columns = [];\n    for (let i = 0; i < deep; i++) {\n      let width = `${100 / deep}%`;\n      // 两列的第一列宽度为 33.33，两列的第二列为 66.67%\n      if (deep === 2 && i === 0) {\n        width = `33.33%`;\n      }\n      if (deep === 2 && i === 1) {\n        width = `66.67%`;\n      }\n      const column = React.createElement(\"div\", {\n        key: i,\n        className: classNames(`${classPrefix}-column`),\n        style: {\n          width\n        }\n      }, renderItems(i === 0 ? props.options : (_a = optionsMap.get(expandKeys[i - 1])) === null || _a === void 0 ? void 0 : _a[childrenName], i));\n      columns.push(column);\n    }\n    return columns;\n  };\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, renderColumns()));\n};","map":{"version":3,"names":["classNames","React","useEffect","useMemo","withNativeProps","getTreeDeep","mergeProps","Checkbox","usePropsValue","devWarning","classPrefix","Multiple","p","props","options","fieldNames","allSelectText","defaultExpandKeys","defaultValue","labelName","label","valueName","value","childrenName","children","expandKeys","setExpandKeys","setValue","getLeafKeys","option","keys","walker","op","_a","length","forEach","i","push","deep","optionsMap","optionsParentMap","Map","traverse","current","item","set","undefined","allSelectedLeafKeys","leafKeys","v","get","concat","dotMap","map","key","parentOption","onChange","targetKeys","groupKeys","unusedKeys","includes","parent","childrenKeys","every","filter","groupOptions","call","onItemSelect","parentNodes","unshift","next","onExpand","renderSelectAllItem","columnOptions","index","text","selectAllText","currentLeafKeys","allSelected","createElement","onClick","className","renderSelectAllLeafItem","halfSelected","some","checked","indeterminate","renderItem","isExpand","renderLeafItem","isSelected","val","renderItems","isLeaf","Fragment","renderColumns","columns","width","column","style"],"sources":["E:/Github/react_rent/react_rent/node_modules/antd-mobile/es/components/tree-select/multiple.js"],"sourcesContent":["import classNames from 'classnames';\nimport React, { useEffect, useMemo } from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport { getTreeDeep } from '../../utils/tree';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Checkbox from '../checkbox';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { devWarning } from '../../utils/dev-log';\nconst classPrefix = `adm-tree-select-multiple`;\nexport const Multiple = p => {\n  const props = mergeProps({\n    options: [],\n    fieldNames: {},\n    allSelectText: [],\n    defaultExpandKeys: [],\n    defaultValue: []\n  }, p);\n  useEffect(() => {\n    devWarning('TreeSelect', 'TreeSelect.Multiple has been deprecated.');\n  }, []);\n  const labelName = props.fieldNames.label || 'label';\n  const valueName = props.fieldNames.value || 'value';\n  const childrenName = props.fieldNames.children || 'children';\n  // 打开的 keys\n  const [expandKeys, setExpandKeys] = usePropsValue({\n    value: props.expandKeys,\n    defaultValue: props.defaultExpandKeys\n  });\n  // 选中的 value（聚合后）\n  const [value, setValue] = usePropsValue({\n    value: props.value,\n    defaultValue: props.defaultValue\n  });\n  // 获取目标所有叶子节点 key 集合\n  const getLeafKeys = option => {\n    const keys = [];\n    const walker = op => {\n      var _a;\n      if (!op) {\n        return;\n      }\n      if ((_a = op[childrenName]) === null || _a === void 0 ? void 0 : _a.length) {\n        op[childrenName].forEach(i => walker(i));\n      } else {\n        keys.push(op[valueName]);\n      }\n    };\n    walker(option);\n    return keys;\n  };\n  const [deep, optionsMap, optionsParentMap] = useMemo(() => {\n    const deep = getTreeDeep(props.options, childrenName);\n    const optionsMap = new Map();\n    const optionsParentMap = new Map();\n    function traverse(current, children) {\n      children.forEach(item => {\n        optionsParentMap.set(item[valueName], current);\n        optionsMap.set(item[valueName], item);\n        if (item[childrenName]) {\n          traverse(item, item[childrenName]);\n        }\n      });\n    }\n    traverse(undefined, props.options);\n    return [deep, optionsMap, optionsParentMap];\n  }, [props.options]);\n  // 将聚合的 value 拆分开，获得叶子节点的 value 集合\n  const allSelectedLeafKeys = useMemo(() => {\n    let leafKeys = [];\n    value.forEach(v => {\n      const option = optionsMap.get(v);\n      leafKeys = leafKeys.concat(getLeafKeys(option));\n    });\n    return leafKeys;\n  }, [value, optionsMap]);\n  // 子级有被选中的节点集合\n  const dotMap = useMemo(() => {\n    const map = new Map();\n    // 遍历 allChildrenValues, 向上递归\n    const walker = key => {\n      const parentOption = optionsParentMap.get(key);\n      if (!parentOption) {\n        return;\n      }\n      map.set(parentOption[valueName], true);\n      walker(parentOption[valueName]);\n    };\n    allSelectedLeafKeys.forEach(key => {\n      map.set(key, true);\n      walker(key);\n    });\n    return map;\n  }, [optionsParentMap, value]);\n  const onChange = targetKeys => {\n    var _a;\n    let groupKeys = [...targetKeys];\n    let unusedKeys = [];\n    const walker = keys => {\n      keys.forEach(key => {\n        var _a;\n        if (unusedKeys.includes(key)) {\n          return;\n        }\n        const parent = optionsParentMap.get(key);\n        if (!parent) {\n          return;\n        }\n        const childrenKeys = ((_a = parent[childrenName]) === null || _a === void 0 ? void 0 : _a.map(i => i[valueName])) || [];\n        if (childrenKeys.every(i => groupKeys.includes(i))) {\n          groupKeys.push(parent[valueName]);\n          unusedKeys = unusedKeys.concat(childrenKeys);\n        }\n      });\n    };\n    // 遍历 deep 次 groupKeys，每次往上聚合一层\n    for (let i = 0; i < deep; i++) {\n      walker(groupKeys);\n    }\n    groupKeys = groupKeys.filter(i => !unusedKeys.includes(i));\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const groupOptions = groupKeys.map(i => optionsMap.get(i));\n    setValue(groupKeys);\n    (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, groupKeys, groupOptions);\n  };\n  const onItemSelect = option => {\n    var _a;\n    const parentNodes = [];\n    let current = option;\n    while (current) {\n      parentNodes.unshift(current);\n      const next = optionsParentMap.get(current[valueName]);\n      current = next;\n    }\n    const keys = parentNodes.map(i => i[valueName]);\n    setExpandKeys(keys);\n    (_a = props.onExpand) === null || _a === void 0 ? void 0 : _a.call(props, keys, parentNodes);\n  };\n  // 渲染全选节点\n  const renderSelectAllItem = (columnOptions, index) => {\n    var _a;\n    const text = (_a = props.selectAllText) === null || _a === void 0 ? void 0 : _a[index];\n    if (!text) {\n      return;\n    }\n    let currentLeafKeys = [];\n    columnOptions.forEach(option => {\n      currentLeafKeys = currentLeafKeys.concat(getLeafKeys(option));\n    });\n    const allSelected = currentLeafKeys.every(i => allSelectedLeafKeys.includes(i));\n    return React.createElement(\"div\", {\n      onClick: () => {\n        if (allSelected) {\n          onChange(allSelectedLeafKeys.filter(i => !currentLeafKeys.includes(i)));\n        } else {\n          onChange(allSelectedLeafKeys.concat(currentLeafKeys));\n        }\n      },\n      className: `${classPrefix}-item`\n    }, text);\n  };\n  // 渲染\n  const renderSelectAllLeafItem = (columnOptions, index) => {\n    var _a;\n    const text = (_a = props.selectAllText) === null || _a === void 0 ? void 0 : _a[index];\n    if (!text) {\n      return;\n    }\n    const currentLeafKeys = columnOptions.map(i => i[valueName]);\n    const allSelected = currentLeafKeys.every(i => allSelectedLeafKeys.includes(i));\n    const halfSelected = allSelected ? false : currentLeafKeys.some(i => allSelectedLeafKeys.includes(i));\n    return React.createElement(\"div\", {\n      onClick: () => {\n        if (allSelected) {\n          onChange(allSelectedLeafKeys.filter(i => !currentLeafKeys.includes(i)));\n        } else {\n          onChange(allSelectedLeafKeys.concat(currentLeafKeys));\n        }\n      },\n      className: classNames(`${classPrefix}-item`, `${classPrefix}-item-leaf`)\n    }, React.createElement(Checkbox, {\n      className: `${classPrefix}-item-checkbox`,\n      checked: allSelected,\n      indeterminate: halfSelected\n    }), text);\n  };\n  // 渲染节点\n  const renderItem = option => {\n    const isExpand = expandKeys.includes(option[valueName]);\n    return React.createElement(\"div\", {\n      key: option[valueName],\n      onClick: () => {\n        if (!isExpand) {\n          onItemSelect(option);\n        }\n      },\n      className: classNames(`${classPrefix}-item`, {\n        [`${classPrefix}-item-expand`]: isExpand\n      })\n    }, option[labelName], !!dotMap.get(option[valueName]) && React.createElement(\"div\", {\n      className: `${classPrefix}-dot`\n    }));\n  };\n  // 渲染叶子节点\n  const renderLeafItem = option => {\n    const isSelected = allSelectedLeafKeys.includes(option[valueName]);\n    return React.createElement(\"div\", {\n      key: option[valueName],\n      onClick: () => {\n        if (isSelected) {\n          onChange(allSelectedLeafKeys.filter(val => val !== option[valueName]));\n        } else {\n          onChange([...allSelectedLeafKeys, option[valueName]]);\n        }\n      },\n      className: classNames(`${classPrefix}-item`, `${classPrefix}-item-leaf`)\n    }, React.createElement(Checkbox, {\n      className: `${classPrefix}-item-checkbox`,\n      checked: isSelected\n    }), option[labelName]);\n  };\n  const renderItems = (columnOptions = [], index) => {\n    if (columnOptions.length === 0) {\n      return;\n    }\n    const isLeaf = deep === index + 1;\n    if (isLeaf) {\n      return React.createElement(React.Fragment, null, renderSelectAllLeafItem(columnOptions, index), columnOptions.map(option => {\n        return renderLeafItem(option);\n      }));\n    }\n    return React.createElement(React.Fragment, null, renderSelectAllItem(columnOptions, index), columnOptions.map(option => {\n      return renderItem(option);\n    }));\n  };\n  const renderColumns = () => {\n    var _a;\n    const columns = [];\n    for (let i = 0; i < deep; i++) {\n      let width = `${100 / deep}%`;\n      // 两列的第一列宽度为 33.33，两列的第二列为 66.67%\n      if (deep === 2 && i === 0) {\n        width = `33.33%`;\n      }\n      if (deep === 2 && i === 1) {\n        width = `66.67%`;\n      }\n      const column = React.createElement(\"div\", {\n        key: i,\n        className: classNames(`${classPrefix}-column`),\n        style: {\n          width\n        }\n      }, renderItems(i === 0 ? props.options : (_a = optionsMap.get(expandKeys[i - 1])) === null || _a === void 0 ? void 0 : _a[childrenName], i));\n      columns.push(column);\n    }\n    return columns;\n  };\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, renderColumns()));\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}